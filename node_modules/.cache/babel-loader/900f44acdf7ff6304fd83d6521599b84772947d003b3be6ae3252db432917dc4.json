{"ast":null,"code":"var _jsxFileName = \"/Users/zhangrongwu/workspace/AI-Project/zhitrend-scan/file-transfer-web/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport QRCode from 'qrcode.react';\nimport { FileTransferService } from './services/fileTransferService';\nimport './css/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GradientBackground = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"min-h-screen bg-gradient-to-br from-[#6a11cb] via-[#2575fc] to-[#4ecdc4] flex items-center justify-center p-4 overflow-hidden\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute top-0 left-0 w-full h-full opacity-10 bg-pattern\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative z-10 w-full max-w-md\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 3\n}, this);\n_c = GradientBackground;\nconst CinematicQRCarousel = ({\n  chunks,\n  currentIndex,\n  progress\n}) => {\n  _s();\n  const [displayChunks, setDisplayChunks] = useState([]);\n  useEffect(() => {\n    if (chunks.length > 0) {\n      const visibleChunks = chunks.slice(Math.max(0, currentIndex - 2), Math.min(chunks.length, currentIndex + 3));\n      setDisplayChunks(visibleChunks);\n    }\n  }, [chunks, currentIndex]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-64 overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 flex transition-transform duration-500 ease-in-out\",\n      style: {\n        transform: `translateX(-${displayChunks.indexOf(chunks[currentIndex]) * 100}%)`\n      },\n      children: displayChunks.map((chunk, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex-shrink-0 flex justify-center items-center transition-all duration-500\",\n        style: {\n          opacity: chunk === chunks[currentIndex] ? 1 : 0.3,\n          transform: chunk === chunks[currentIndex] ? 'scale(1)' : 'scale(0.8)'\n        },\n        children: /*#__PURE__*/_jsxDEV(QRCode, {\n          value: chunk,\n          size: 256,\n          level: 'H',\n          className: \"shadow-lg rounded-xl border-4 border-white/20 backdrop-blur-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-0 left-0 w-full h-2 bg-white/20 backdrop-blur-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-full bg-blue-500 transition-all duration-500\",\n        style: {\n          width: `${progress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(CinematicQRCarousel, \"frnEAMYuuQXo4Vd5Ci8nesamB1w=\");\n_c2 = CinematicQRCarousel;\nconst App = () => {\n  _s2();\n  const [file, setFile] = useState(null);\n  const [chunks, setChunks] = useState([]);\n  const [currentChunkIndex, setCurrentChunkIndex] = useState(0);\n  const [transferStatus, setTransferStatus] = useState('');\n  const [isTransferring, setIsTransferring] = useState(false);\n  const [speed, setSpeed] = useState(2000);\n  const transferInterval = useRef(null);\n  const handleFileSelect = event => {\n    var _event$target$files;\n    const selectedFile = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      setTransferStatus('');\n      setCurrentChunkIndex(0);\n      setChunks([]);\n      setIsTransferring(false);\n    }\n  };\n  const startTransfer = async () => {\n    if (!file) return;\n    try {\n      const newChunks = await FileTransferService.fileToQRChunks(file);\n      setChunks(newChunks);\n      setIsTransferring(true);\n      setTransferStatus('传输中...');\n\n      // Start automatic chunk rotation\n      transferInterval.current = setInterval(() => {\n        setCurrentChunkIndex(prev => (prev + 1) % newChunks.length);\n      }, speed);\n    } catch (error) {\n      setTransferStatus('传输准备失败');\n      console.error(error);\n    }\n  };\n  const pauseTransfer = () => {\n    if (transferInterval.current) {\n      clearInterval(transferInterval.current);\n      transferInterval.current = null;\n    }\n    setIsTransferring(false);\n    setTransferStatus('已暂停');\n  };\n  const handleSpeedChange = event => {\n    const newSpeed = parseInt(event.target.value);\n    setSpeed(newSpeed);\n    if (isTransferring && transferInterval.current) {\n      clearInterval(transferInterval.current);\n      transferInterval.current = setInterval(() => {\n        setCurrentChunkIndex(prev => (prev + 1) % chunks.length);\n      }, newSpeed);\n    }\n  };\n  const prevChunk = () => {\n    setCurrentChunkIndex(prev => (prev - 1 + chunks.length) % chunks.length);\n  };\n  const nextChunk = () => {\n    setCurrentChunkIndex(prev => (prev + 1) % chunks.length);\n  };\n  useEffect(() => {\n    return () => {\n      if (transferInterval.current) {\n        clearInterval(transferInterval.current);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(GradientBackground, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/90 backdrop-blur-lg shadow-2xl rounded-2xl p-8 space-y-6 relative overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -bottom-10 -left-10 w-32 h-32 bg-blue-500/20 rounded-full blur-2xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-blue-500\",\n          children: \"\\u52A8\\u6001\\u4E8C\\u7EF4\\u7801\\u6587\\u4EF6\\u4F20\\u8F93\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-2\",\n          children: \"\\u5B89\\u5168\\u3001\\u5FEB\\u901F\\u3001\\u7B80\\u5355\\u7684\\u6587\\u4EF6\\u5171\\u4EAB\\u65B9\\u6848\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"fileInput\",\n          className: \"hidden\",\n          onChange: handleFileSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fileInput\",\n          className: \"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-500 text-white rounded-lg  hover:from-purple-700 hover:to-blue-600 transition-all duration-300  flex items-center justify-center space-x-2 transform hover:scale-[1.02]\",\n          children: \"\\u9009\\u62E9\\u6587\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-info\",\n          children: file && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u5DF2\\u9009\\u62E9\\uFF1A\", file.name, \" (\", (file.size / 1024).toFixed(2), \" KB)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"qr-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"qr-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startTransfer,\n            disabled: !file || isTransferring,\n            className: \"w-full py-3 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg  hover:from-green-600 hover:to-teal-600 transition-all duration-300  transform hover:scale-[1.02]\",\n            children: \"\\u5F00\\u59CB\\u4F20\\u8F93\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: pauseTransfer,\n            disabled: !isTransferring,\n            className: \"w-full py-3 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-lg  hover:from-red-600 hover:to-red-800 transition-all duration-300  transform hover:scale-[1.02]\",\n            children: \"\\u6682\\u505C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"speed-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"speedSelect\",\n              children: \"\\u5207\\u6362\\u901F\\u5EA6\\uFF1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"speedSelect\",\n              value: speed,\n              onChange: handleSpeedChange,\n              disabled: !file,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1000\",\n                children: \"\\u5FEB\\u901F (1\\u79D2)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2000\",\n                children: \"\\u6807\\u51C6 (2\\u79D2)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3000\",\n                children: \"\\u6162\\u901F (3\\u79D2)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5000\",\n                children: \"\\u8D85\\u6162 (5\\u79D2)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"qr-display\",\n          children: [chunks.length > 0 && /*#__PURE__*/_jsxDEV(QRCode, {\n            value: chunks[currentChunkIndex],\n            size: 256,\n            level: \"L\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"transfer-status\",\n            children: [transferStatus, chunks.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u5757 \", currentChunkIndex + 1, \" / \", chunks.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), chunks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chunk-navigation\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: prevChunk,\n            className: \"w-full py-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg  hover:from-blue-600 hover:to-blue-800 transition-all duration-300  transform hover:scale-[1.02]\",\n            children: \"\\u4E0A\\u4E00\\u5757\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"chunk-info\",\n            children: [currentChunkIndex + 1, \" / \", chunks.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: nextChunk,\n            className: \"w-full py-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg  hover:from-blue-600 hover:to-blue-800 transition-all duration-300  transform hover:scale-[1.02]\",\n            children: \"\\u4E0B\\u4E00\\u5757\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n_s2(App, \"Uy/xajvxTw37CyQyI+G2f8Bq29c=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"GradientBackground\");\n$RefreshReg$(_c2, \"CinematicQRCarousel\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","QRCode","FileTransferService","jsxDEV","_jsxDEV","GradientBackground","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","CinematicQRCarousel","chunks","currentIndex","progress","_s","displayChunks","setDisplayChunks","length","visibleChunks","slice","Math","max","min","style","transform","indexOf","map","chunk","idx","opacity","value","size","level","width","_c2","App","_s2","file","setFile","setChunks","currentChunkIndex","setCurrentChunkIndex","transferStatus","setTransferStatus","isTransferring","setIsTransferring","speed","setSpeed","transferInterval","handleFileSelect","event","_event$target$files","selectedFile","target","files","startTransfer","newChunks","fileToQRChunks","current","setInterval","prev","error","console","pauseTransfer","clearInterval","handleSpeedChange","newSpeed","parseInt","prevChunk","nextChunk","type","id","onChange","htmlFor","name","toFixed","onClick","disabled","_c3","$RefreshReg$"],"sources":["/Users/zhangrongwu/workspace/AI-Project/zhitrend-scan/file-transfer-web/src/App.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport QRCode from 'qrcode.react';\nimport { FileTransferService } from './services/fileTransferService';\nimport './css/style.css';\n\nconst GradientBackground: React.FC<{ children: React.ReactNode }> = ({ children }) => (\n  <div className=\"min-h-screen bg-gradient-to-br from-[#6a11cb] via-[#2575fc] to-[#4ecdc4] flex items-center justify-center p-4 overflow-hidden\">\n    <div className=\"absolute top-0 left-0 w-full h-full opacity-10 bg-pattern\"></div>\n    <div className=\"relative z-10 w-full max-w-md\">\n      {children}\n    </div>\n  </div>\n);\n\nconst CinematicQRCarousel: React.FC<{ \n  chunks: string[], \n  currentIndex: number, \n  progress: number \n}> = ({ chunks, currentIndex, progress }) => {\n  const [displayChunks, setDisplayChunks] = useState<string[]>([]);\n\n  useEffect(() => {\n    if (chunks.length > 0) {\n      const visibleChunks = chunks.slice(\n        Math.max(0, currentIndex - 2), \n        Math.min(chunks.length, currentIndex + 3)\n      );\n      setDisplayChunks(visibleChunks);\n    }\n  }, [chunks, currentIndex]);\n\n  return (\n    <div className=\"relative w-full h-64 overflow-hidden\">\n      <div \n        className=\"absolute inset-0 flex transition-transform duration-500 ease-in-out\"\n        style={{ \n          transform: `translateX(-${(displayChunks.indexOf(chunks[currentIndex]) * 100)}%)`,\n        }}\n      >\n        {displayChunks.map((chunk, idx) => (\n          <div \n            key={idx} \n            className=\"w-full flex-shrink-0 flex justify-center items-center transition-all duration-500\"\n            style={{\n              opacity: chunk === chunks[currentIndex] ? 1 : 0.3,\n              transform: chunk === chunks[currentIndex] \n                ? 'scale(1)' \n                : 'scale(0.8)',\n            }}\n          >\n            <QRCode \n              value={chunk} \n              size={256} \n              level={'H'} \n              className=\"shadow-lg rounded-xl border-4 border-white/20 backdrop-blur-sm\"\n            />\n          </div>\n        ))}\n      </div>\n      <div className=\"absolute bottom-0 left-0 w-full h-2 bg-white/20 backdrop-blur-sm\">\n        <div \n          className=\"h-full bg-blue-500 transition-all duration-500\" \n          style={{ width: `${progress}%` }}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst App: React.FC = () => {\n  const [file, setFile] = useState<File | null>(null);\n  const [chunks, setChunks] = useState<string[]>([]);\n  const [currentChunkIndex, setCurrentChunkIndex] = useState<number>(0);\n  const [transferStatus, setTransferStatus] = useState<string>('');\n  const [isTransferring, setIsTransferring] = useState<boolean>(false);\n  const [speed, setSpeed] = useState<number>(2000);\n  const transferInterval = useRef<NodeJS.Timeout | null>(null);\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = event.target.files?.[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      setTransferStatus('');\n      setCurrentChunkIndex(0);\n      setChunks([]);\n      setIsTransferring(false);\n    }\n  };\n\n  const startTransfer = async () => {\n    if (!file) return;\n    \n    try {\n      const newChunks = await FileTransferService.fileToQRChunks(file);\n      setChunks(newChunks);\n      setIsTransferring(true);\n      setTransferStatus('传输中...');\n      \n      // Start automatic chunk rotation\n      transferInterval.current = setInterval(() => {\n        setCurrentChunkIndex(prev => (prev + 1) % newChunks.length);\n      }, speed);\n    } catch (error) {\n      setTransferStatus('传输准备失败');\n      console.error(error);\n    }\n  };\n\n  const pauseTransfer = () => {\n    if (transferInterval.current) {\n      clearInterval(transferInterval.current);\n      transferInterval.current = null;\n    }\n    setIsTransferring(false);\n    setTransferStatus('已暂停');\n  };\n\n  const handleSpeedChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const newSpeed = parseInt(event.target.value);\n    setSpeed(newSpeed);\n    \n    if (isTransferring && transferInterval.current) {\n      clearInterval(transferInterval.current);\n      transferInterval.current = setInterval(() => {\n        setCurrentChunkIndex(prev => (prev + 1) % chunks.length);\n      }, newSpeed);\n    }\n  };\n\n  const prevChunk = () => {\n    setCurrentChunkIndex(prev => (prev - 1 + chunks.length) % chunks.length);\n  };\n\n  const nextChunk = () => {\n    setCurrentChunkIndex(prev => (prev + 1) % chunks.length);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (transferInterval.current) {\n        clearInterval(transferInterval.current);\n      }\n    };\n  }, []);\n\n  return (\n    <GradientBackground>\n      <div className=\"bg-white/90 backdrop-blur-lg shadow-2xl rounded-2xl p-8 space-y-6 relative overflow-hidden\">\n        <div className=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl\"></div>\n        <div className=\"absolute -bottom-10 -left-10 w-32 h-32 bg-blue-500/20 rounded-full blur-2xl\"></div>\n\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-blue-500\">\n            动态二维码文件传输\n          </h1>\n          <p className=\"text-sm text-gray-500 mt-2\">\n            安全、快速、简单的文件共享方案\n          </p>\n        </div>\n\n        <div className=\"space-y-4\">\n          <input \n            type=\"file\" \n            id=\"fileInput\"\n            className=\"hidden\"\n            onChange={handleFileSelect}\n          />\n          <label htmlFor=\"fileInput\" className=\"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-500 text-white rounded-lg \n            hover:from-purple-700 hover:to-blue-600 transition-all duration-300 \n            flex items-center justify-center space-x-2 transform hover:scale-[1.02]\"\n          >\n            选择文件\n          </label>\n          <div className=\"file-info\">\n            {file && (\n              <p>已选择：{file.name} ({(file.size / 1024).toFixed(2)} KB)</p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"qr-section\">\n          <div className=\"qr-controls\">\n            <button\n              onClick={startTransfer}\n              disabled={!file || isTransferring}\n              className=\"w-full py-3 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg \n              hover:from-green-600 hover:to-teal-600 transition-all duration-300 \n              transform hover:scale-[1.02]\"\n            >\n              开始传输\n            </button>\n            <button\n              onClick={pauseTransfer}\n              disabled={!isTransferring}\n              className=\"w-full py-3 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-lg \n              hover:from-red-600 hover:to-red-800 transition-all duration-300 \n              transform hover:scale-[1.02]\"\n            >\n              暂停\n            </button>\n            <div className=\"speed-control\">\n              <label htmlFor=\"speedSelect\">切换速度：</label>\n              <select\n                id=\"speedSelect\"\n                value={speed}\n                onChange={handleSpeedChange}\n                disabled={!file}\n              >\n                <option value=\"1000\">快速 (1秒)</option>\n                <option value=\"2000\">标准 (2秒)</option>\n                <option value=\"3000\">慢速 (3秒)</option>\n                <option value=\"5000\">超慢 (5秒)</option>\n              </select>\n            </div>\n          </div>\n          \n          <div className=\"qr-display\">\n            {chunks.length > 0 && (\n              <QRCode\n                value={chunks[currentChunkIndex]}\n                size={256}\n                level=\"L\"\n              />\n            )}\n            <div className=\"transfer-status\">\n              {transferStatus}\n              {chunks.length > 0 && (\n                <p>块 {currentChunkIndex + 1} / {chunks.length}</p>\n              )}\n            </div>\n          </div>\n\n          {chunks.length > 0 && (\n            <div className=\"chunk-navigation\">\n              <button onClick={prevChunk} className=\"w-full py-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg \n              hover:from-blue-600 hover:to-blue-800 transition-all duration-300 \n              transform hover:scale-[1.02]\">上一块</button>\n              <span className=\"chunk-info\">\n                {currentChunkIndex + 1} / {chunks.length}\n              </span>\n              <button onClick={nextChunk} className=\"w-full py-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg \n              hover:from-blue-600 hover:to-blue-800 transition-all duration-300 \n              transform hover:scale-[1.02]\">下一块</button>\n            </div>\n          )}\n        </div>\n      </div>\n    </GradientBackground>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}